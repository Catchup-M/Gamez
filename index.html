<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ground Canvas with Character Block</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }
        #gameCanvas {
            display: block;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8C8 70%, #228B22 100%);
            cursor: pointer;
        }
        .ui-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
        }
        .control-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.9);
            font-size: 20px;
            margin: 5px;
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="400" height="800"></canvas>
    
    <div class="ui-controls">
        <button class="control-btn" onclick="moveCharacter('left')">←</button>
        <button class="control-btn" onclick="moveCharacter('right')">→</button>
        <button class="control-btn" onclick="jumpCharacter()">↑</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // Responsive canvas sizing for mobile
        function resizeCanvas() {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // Character block properties
        const character = {
            x: 50,
            y: canvas.height - 150,
            width: 40,
            height: 60,
            speed: 5,
            velY: 0,
            jumping: false,
            color: '#FF6B35'
        };

        // Ground properties
        const ground = {
            y: canvas.height - 100,
            height: 100
        };

        // Game loop
        function gameLoop() {
            // Clear canvas with ground gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(0.7, '#98D8C8');
            gradient.addColorStop(1, '#228B22');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw ground details (grass patches)
            ctx.fillStyle = '#32CD32';
            for(let i = 0; i < canvas.width; i += 30) {
                ctx.fillRect(i, ground.y - 5, 20, 15);
            }

            // Physics - gravity
            if (character.y < ground.y - character.height) {
                character.velY += 0.8;
                character.y += character.velY;
                character.jumping = true;
            } else {
                character.y = ground.y - character.height;
                character.jumping = false;
                character.velY = 0;
            }

            // Draw character block (simple rounded rectangle)
            ctx.save();
            ctx.shadowColor = 'rgba(0,0,0,0.3)';
            ctx.shadowBlur = 10;
            ctx.fillStyle = character.color;
            ctx.roundRect(character.x, character.y, character.width, character.height, 8);
            ctx.fill();
            ctx.restore();

            // Draw character details (eyes)
            ctx.fillStyle = '#FFF';
            ctx.beginPath();
            ctx.arc(character.x + 10, character.y + 15, 4, 0, Math.PI * 2);
            ctx.arc(character.x + 30, character.y + 15, 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#333';
            ctx.beginPath();
            ctx.arc(character.x + 10, character.y + 15, 2, 0, Math.PI * 2);
            ctx.arc(character.x + 30, character.y + 15, 2, 0, Math.PI * 2);
            ctx.fill();

            requestAnimationFrame(gameLoop);
        }

        // Control functions
        function moveCharacter(direction) {
            if (direction === 'left' && character.x > 10) {
                character.x -= character.speed;
            } else if (direction === 'right' && character.x < canvas.width - character.width - 10) {
                character.x += character.speed;
            }
        }

        function jumpCharacter() {
            if (!character.jumping) {
                character.velY = -15;
            }
        }

        // Touch controls for mobile
        let touchStartX = 0;
        canvas.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });
        canvas.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchEndX - touchStartX;
            if (Math.abs(diff) > 50) {
                moveCharacter(diff > 0 ? 'right' : 'left');
            } else {
                jumpCharacter();
            }
        });

        // Start game loop
        gameLoop();
    </script>
</body>
</html>
